---
categories:
  - single byte instructions:
    - ASL
    - CLC
    - CLD
    - CLI
    - CLV
    - DEX
    - DEY
    - INX
    - INY
    - LSR
    - NOP
    - ROL
    - SEC
    - SED
    - SEI
    - TAX
    - TAY
    - TSX
    - TXA
    - TXS
    - TYA
  - internal execution on memory data:
    - ADC
    - AND
    - BIT
    - CMP
    - CPX
    - CPY
    - EOR
    - LDA
    - LDX
    - LDY
    - ORA
    - SBC
  - store operations:
    - STA
    - STX
    - STY
  - read-modify-write operations:
    - ASL
    - DEC
    - INC
    - LSR
    - ROL
    - ROR
  - miscellaneous operations:
    - BCC
    - BCS
    - BEQ
    - BMI
    - BNE
    - BPL
    - BRK
    - BVC
    - BVS
    - JMP
    - JSR
    - PHA
    - PHP
    - PLA
    - PLP
    - RTI
    - RTS

addressing_modes:
  - name: fetch
    cycles:
      - name: t0
        AB: PC
        DB: IR
        PC: PC + 1

  - name: implied
    cycles:
      - name: t1

  - name: accumulator
    cycles:
      - name: t1
        operations:
      - name: t2
        operations:
          - read:
              AB: PC
              DB: IR
          - inc: PC
          - shift: A
      - name: t3
        operations:
          - copy:
              src: ALU
              dst: A

  - name: immediate
    cycles:
      - name: t1
        AB: PC
        DB: DL
        PC: PC + 1

  - name: absolute
    cycles:
      - name: t1
        AB: PC
        DB: ADL
        PC: PC + 1
      - name: t2
        AB: PC
        DB: ADH
        PC: PC + 1
      - name: t3
        AB: ADH, ADL
        DB: DL

  - name: zero page
    cycles:
      - name: t1
        AB: PC
        DB: ADL
        PC: PC + 1
      - name: t2
        AB: 00, ADL
        DB: DL

  - name: relative
    cycles:
      - name: t1
        AB: PC
        DB: DL
        PC: PC + 1
      - name: t2
        PC: PC + DL

  - name: absolute x
    cycles:
      - name: t1
        AB: PC
        DB: BAL
        PC: PC + 1
      - name: t2
        AB: PC
        DB: BAH
        PC: PC + 1
      - name: t3
        AB: BAH, BAL + X
        DB: DL
      - name: t4*
        AB: BAH + 1, BAL + X
        DB: DL
        when: C = 1

  - name: absolute y
    cycles:
      - name: t1
        AB: PC
        DB: BAL
        PC: PC + 1
      - name: t2
        AB: PC
        DB: BAH
        PC: PC + 1
      - name: t3
        AB: BAH, BAL + Y
        DB: DL
      - name: t4*
        AB: BAH + 1, BAL + Y
        DB: DL
        when: C = 1

  - name: zero page x
    cycles:
      - name: t1
        AB: PC
        DB: BAL
        PC: PC + 1
      - name: t2
        AB: 00, BAL
        DB: DL (discarded)
      - name: t3
        AB: 00, BAL + X
        DB: DL

  - name: zero page y
    cycles:
      - name: t1
        AB: PC
        DB: BAL
        PC: PC + 1
      - name: t2
        AB: 00, BAL
        DB: DL (discarded)
      - name: t3
        AB: 00, BAL + Y
        DB: DL

  - name: indexed indirect
    cycles:
      - name: t1
        AB: PC
        DB: BAL
        PC: PC + 1
      - name: t2
        AB: 00, BAL
        DB: DL (discarded)
      - name: t3
        AB: 00, BAL + X
        DB: ADL
      - name: t4
        AB: 00, BAL + X + 1
        DB: ADH
      - name: t5
        AB: ADH, ADL
        DB: DL

  - name: indirect indexed
    cycles:
      - name: t1
        AB: PC
        DB: IAL
        PC: PC + 1
      - name: t2
        AB: 00, IAL
        DB: BAL
      - name: t3
        AB: 00, IAL + 1
        DB: BAH
      - name: t4
        AB: BAH, BAL + Y
        DB: DL
      - name: t5*
        AB: BAH + 1, BAL + Y
        DB: DL
        when: C = 1 or read-modify-write or STA

  - name: absolute indirect
    cycles:
      - name: t1
        AB: PC
        DB: IAL
        PC: PC + 1
      - name: t2
        AB: PC
        DB: IAH
      - name: t3
        AB: IAH, IAL
        DB: ADL
      - name: t4
        AB: IAH, IAL + 1
        DB: ADH
      - name: t5
        AB: ADH, ADL
        DB: DL

groups:
  - name: 1
    addressing_modes:
      - immediate
      - absolute
      - zero page
      - absolute x
      - absolute y
      - zero page x
      - indexed indirect
      - indirect indexed
  - name: single-byte
    addressing_modes:
      - implied
  - name: jump
    addressing_modes:
      - absolute
      - absolute indirect
  - name: branch
    addressing_modes:
      - relative
  - name: test
    addressing_modes:
      - zero page
      - absolute
  - name: read-write-modify
    addressing_modes:
      - accumulator
      - zero page
      - zero page x
      - absolute
      - absolute x


instructions:
  - name: LDA
    description: Load Accumulator with Memory
    operations:
     - A: M
    group: 1

  - name: STA
    description: Store Accumulator in Memory
    operations:
     - M: A
    group: 1

  - name: ADC
    description: Add Memory to Accumulator with Carry
    operations:
      - A: A + M + C
    group: 1

  - name: SBC
    description: Subtract Memory from Accumulator with Borrow
    operations:
      - A: A - M - !C
    group: 1

  - name: AND
    description: AND Memory with Accumulator
    operations:
      - A: A and M
    group: 1

  - name: ORA
    description: OR Memory with Accumulator
    operations:
      - A: A or M
    group: 1

  - name: EOR
    description: Exclusive OR Memory with Accumulator
    operations:
      - A: A xor M
    group: 1

  - name: SEC
    description: Set Carry Flag
    operations:
      - C: 1
    group: single-byte

  - name: CLC
    description: Clear Carry Flag
    operations:
      - C: 0
    group: single-byte

  - name: SEI
    description: Set Interrupt Disable Status
    operations:
      - I: 1
    group: single-byte

  - name: CLI
    description: Clear Interrupt Disable Bit
    operations:
      - I: 0
    group: single-byte

  - name: SED
    description: Set Decimal Mode
    operations:
      - D: 1
    group: single-byte

  - name: CLD
    description: Clear Decimal Mode
    operations:
      - D: 0
    group: single-byte

  - name: CLV
    description: Clear Overflow Flag
    operations:
      - V: 0
    group: single-byte

  - name: JMP
    description: Jump to New Location
    operations:
      - PCL: ADL
      - PCH: ADH
    group: jump

  - name: BMI
    description: Branch on Result Minus
    operations:
      - if: N = 1
        PC: PC + DL
    group: branch

  - name: BPL
    description: Branch on Result Plus
    operations:
      - if: N = 0
        PC: PC + DL
    group: branch

  - name: BCC
    description: Branch on Carry Clear
    operations:
      - if: C = 0
        PC: PC + DL
    group: branch

  - name: BCS
    description: Branch on Carry Set
    operations:
      - if: C = 1
        PC: PC + DL
    group: branch

  - name: BEQ
    description: Branch on Result Zero
    operations:
      - if: Z = 1
        PC: PC + DL
    group: branch

  - name: BNE
    description: Branch on Result not Zero
    operations:
      - if: Z = 0
        PC: PC + DL
    group: branch

  - name: BVS
    description: Branch on Overflow Set
    operations:
      - if: V = 1
        PC: PC + DL
    group: branch

  - name: BVC
    description: Branch on Overflow Clear
    operations:
      - if: V = 0
        PC: PC + DL
    group: branch

  - name: CMP
    description: Compare Memory and Accumulator
    operations:
      - A - M
    group: 1

  - name: BIT
    description: Test Bits in Memory with Accumulator
    operations:
      - A and M
    group: test

  - name: LDX
    description: Load Index X with Memory
    operations:
      - X: M
    addressing_modes:
      - immediate
      - absolute
      - zero page
      - absolute y
      - zero page y

  - name: LDY
    description: Load Index Y with Memory
    operations:
      - Y: M
    addressing_modes:
      - immediate
      - absolute
      - zero page
      - absolute x
      - zero page x

  - name: STX
    description: Store Index X in Memory
    operations:
      - M: X
    addressing_modes:
      - absolute
      - zero page
      - zero page y

  - name: STY
    description: Store Index Y in Memory
    operations:
      - M: Y
    addressing_modes:
      - absolute
      - zero page
      - zero page x

  - name: INX
    description: Increment Index X by One
    operations:
      - X: X + 1
    addressing_modes:
      - implied

  - name: INY
    description: Increment Index Y by One
    operations:
      - Y: Y + 1
    addressing_modes:
      - implied

  - name: DEX
    description: Decrement Index X by One
    operations:
      - X: X - 1
    addressing_modes:
      - implied

  - name: DEY
    description: Decrement Index Y by One
    operations:
      Y: Y - 1
    addressing_modes:
      - implied

  - name: CPX
    description: Compare Memory and Index X
    operations:
      - X - M
    addressing_modes:
      - immediate
      - absolute
      - zero page

  - name: CPY
    description: Compare Memory and Index Y
    operations:
      - Y - M
    addressing_modes:
      - immediate
      - absolute
      - zero page

  - name: TAX
    description: Transfer Accumulator to Index X
    operations:
      - X: A
    addressing_modes:
      - implied

  - name: TXA
    description: Transfer Index X to Accumulator
    operations:
      - A: X
    addressing_modes:
      - implied

  - name: TAY
    description: Transfer Accumulator to Index Y
    operations:
      - Y: A
    addressing_modes:
      - implied

  - name: TYA
    description: Transfer Index Y to Accumulator
    operations:
      - A: Y
    addressing_modes:
      - implied

  - name: JSR
    description: Jump to Subroutine
    cycles:
      - name: t1
        operations:
          read:
            AB: PCH
            DB: ADL
          inc: PC
      - name: t2
        operations:
          nop
      - name: t3
        operations:
          - write:
              AB: 01, S
              DB: PCH
          - dec: S
      - name: t4
        operations:
          - write:
              AB: 01, S
              DB: PCL
          - dec: S
      - name: t5
        operations:
          - read:
              AB: PC
              DB: ADH
          - inc: PC
      - name: t6
        operations:
          - read:
              AB: ADH, ADL
              DB: IR
    addressing_modes:
      - absolute

  - name: RTS
    description: Return from Subroutine
    addressing_modes:
      - implied
    cycles:
      - name: t1
        operations:
          - read:
              AB: PC
              DB: DL
      - name: t2
        operations:
          - read:
              AB: 01, S
              DB: DL
          - inc: S
      - name: t3
        operations:
          - read:
              AB: 01, S
              DB: PCL
          - inc: S
      - name: t4
        operations:
          - read:
              AB: 01, S
              DB: PCH
      - name: t5
        operations:
          - read:
              AB: PC
              DB: DL
          - inc: PC
      - name: t6
        operations:
          - read:
              AB: PC
              DB: IR
          - inc: PC

  - name: PHA
    description: Push Accumulator on Stack
    addressing_modes:
      - implied
    cycles:
      - name: t1
        operations:
          - read:
              AB: PC
              DB: IR
      - name: t2
        operations:
          - write:
              AB: 01, S
              DB: A
          - dec: S
      - name: t3
        operations:
          - read:
              AB: PC
              DB: IR
          - inc: PC

  - name: PLA
    description: Pull Accumulator from Stack
    addressing_modes:
      - implied
    cycles:
      - name: t1
        operations:
          - read:
              AB: PC
              DB: IR
      - name: t2
        operations:
          - read:
              AB: 01, S
              DB: DL
          - inc: S
      - name: t3
        operations:
          - read:
              AB: 01, S
              DB: A
      - name: t4
        operations:
          - read:
              AB: PC
              DB: IR
          - inc: PC

  - name: TXS
    description: Transfer Index X to Stack Pointer
    addressing_modes:
      - implied
    cycles:
      - name: t1
        operations:
          - copy:
              src: X
              dst: S

  - name: TSX
    description: Transfer Stack Pointer to Index X
    addressing_modes:
      - implied
    cycles:
      - name: t1
        operations:
          - copy:
              src: S
              dst: X

  - name: PHP
    description: Push Processor Status on Stack
    addressing_modes:
      - implied
    cycles:
      - name: t1
        operations:
          - read:
              AB: PC
              DB: IR
      - name: t2
        operations:
          - write:
              AB: 01, S
              DB: P
          - dec: S
      - name: t3
        operations:
          - read:
              AB: PC
              DB: IR
          - inc: PC

  - name: PLP
    description: Pull Processor Status from Stack
    addressing_modes:
      - implied
    cycles:
      - name: t1
        operations:
          - read:
              AB: PC
              DB: IR
      - name: t2
        operations:
          - read:
              AB: 01, S
              DB: DL
          - inc: S
      - name: t3
        operations:
          - read:
              AB: 01, S
              DB: P
      - name: t4
        operations:
          - read:
              AB: PC
              DB: IR
          - inc: PC

  - name: RTI
    description: Return from Interrupt
    addressing_modes:
      - implied
    cycles:
      - name: t1
        operations:
          - read:
              AB: PC
              DB: IR
      - name: t2
        operations:
          - read:
              AB: 01, S
              DB: DL
          - inc: S
      - name: t3
        operations:
          - read:
              AB: 01, S
              DB: P
          - inc: S
      - name: t4
        operations:
          - read:
              AB: 01, S
              DB: PCL
          - inc: S
      - name: t5
        operations:
          - read:
              AB: 01, S
              DB: PCH
      - name: t6
        operations:
          - read:
              AB: PC
              DB: IR
          - inc: PC

  - name: ASL
    description: Shift left One Bit (Memory or Accumulator)
    variations:
      - addressing_mode: accumulator
        operations:
        - t1: shl A

  - name: BRK
    description: Force Break

  - name: DEC
    description: Decrement Memory  by One
    operation: M - 1 -> M

  - name: INC
    description: Increment Memory by One
    operation: M + 1 -> M

  - name: LSR
    description: Shift One Bit Right (Memory or Accumulator)

  - name: NOP
    description: No Operation

  - name: ROL
    description: Rotate One Bit Left (Memory or Accumulator)

  - name: ROR
    description: Rotate One Bit Right (Memory or Accumulator)